fragment MemberFields on Member {
  id
  rootAccount
  controllerAccount
  handle
  name
  about
  avatarURI
  isFoundingMember
  isVerified
  inviteCount
}

fragment BlockFields on Block {
  id
  height
  timestamp
  network
}

query GetMembers($rootAccount_in: [String!], $controllerAccount_in: [String!]) {
  members(where: {rootAccount_in: $rootAccount_in, controllerAccount_in: $controllerAccount_in}) {
    ...MemberFields
  }
}

fragment MemberWithDetails on Member {
  ...MemberFields
  registeredAtBlock {
    ...BlockFields
  }
  invitees {
    ...MemberFields
  }
}

query GetMember($id: ID!) {
  member(where: {id: $id}) {
    ...MemberWithDetails
  }
}

query SearchMembers($text: String!, $limit: Int) {
  searchMembers(text: $text, limit: $limit) {
    ...MemberFields
  }
}
