fragment PostAddedEventFields on PostAddedEvent {
  id
  createdAt
  post {
    id
    thread {
      id
    }
    author {
      id
      handle
    }
  }
}

fragment PostTextUpdatedEventFields on PostTextUpdatedEvent {
  id
  createdAt
  post {
    id
    thread {
      id
    }
    author {
      id
      handle
    }
  }
}

fragment PostDeletedEventFields on PostDeletedEvent {
  id
  createdAt
  posts {
    id
    thread {
      id
      title
    }
  }
  actor {
    id
    handle
  }
}

fragment PostModeratedEventFields on PostModeratedEvent {
  id
  createdAt
  post {
    id
    thread {
      id
    }
  }
  actor {
    membership {
      id
      handle
    }
  }
}

fragment ThreadCreatedEventFields on ThreadCreatedEvent {
  id
  createdAt
  thread {
    id
    title
    author {
      id
      handle
    }
    category {
      id
      title
    }
  }
}

fragment ThreadDeletedEventFields on ThreadDeletedEvent {
  id
  createdAt
  thread {
    id
    title
  }
}

fragment ThreadModeratedEventFields on ThreadModeratedEvent {
  id
  createdAt
  thread {
    id
    title
  }
  actor {
    membership {
      id
      handle
    }
  }
}

fragment CategoryCreatedEventFields on CategoryCreatedEvent {
  id
  createdAt
  category {
    id
    title
    parent {
      id
      title
    }
  }
}

fragment CategoryDeletedEventFields on CategoryDeletedEvent {
  id
  createdAt
  category {
    id
    title
    parent {
      id
      title
    }
  }
}

query GetForumEvents {
  postAddedEvents(orderBy: createdAt_DESC, limit: 10) {
    ...PostAddedEventFields
  }
  postTextUpdatedEvents(orderBy: createdAt_DESC, limit: 10) {
    ...PostTextUpdatedEventFields
  }
  postModeratedEvents(orderBy: createdAt_DESC, limit: 10) {
    ...PostModeratedEventFields
  }
  postDeletedEvents(orderBy: createdAt_DESC, limit: 10) {
    ...PostDeletedEventFields
  }
  threadCreatedEvents(orderBy: createdAt_DESC, limit: 5) {
    ...ThreadCreatedEventFields
  }
  threadDeletedEvents(orderBy: createdAt_DESC, limit: 5) {
    ...ThreadDeletedEventFields
  }
  threadModeratedEvents(orderBy: createdAt_DESC, limit: 5) {
    ...ThreadModeratedEventFields
  }
  categoryCreatedEvents(orderBy: createdAt_DESC, limit: 5) {
    ...CategoryCreatedEventFields
  }
  categoryDeletedEvents(orderBy: createdAt_DESC, limit: 5) {
    ...CategoryDeletedEventFields
  }
}
