fragment ProposalCreatedEventFields on ProposalCreatedEvent {
  id
  createdAt
  proposal {
    id
    title
    creator {
      id
      handle
    }
  }
}

fragment ProposalStatusUpdatedEventFields on ProposalStatusUpdatedEvent {
  id
  createdAt
  proposal {
    id
    title
  }
  newStatus {
    __typename
  }
}

query GetProposalsEvents {
  events (where: { type_in: [ProposalCreatedEvent, ProposalStatusUpdatedEvent] } orderBy: [createdAt_DESC]) {
    ...on ProposalCreatedEvent {
      ...ProposalCreatedEventFields
    }
    ...on ProposalStatusUpdatedEvent {
      ...ProposalStatusUpdatedEventFields
    }
  }
}
